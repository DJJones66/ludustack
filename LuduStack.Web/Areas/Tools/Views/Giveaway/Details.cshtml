@model GiveawayDetailsViewModel
@{
    ViewData["Title"] = SharedLocalizer["Giveaway"];
    ViewData["Description"] = "tralala";
    ViewData["Url"] = ViewBag.BaseUrl + Url.Action("details", "localization", new { area = "tools", id = Model.Id });
    //ViewData["OgImage"] = ViewBag.BaseUrl + "/images/og/oggiveaway.png";

    var isAjax = ViewContext.HttpContext.Request.IsAjaxRequest();
    var canInteract = User.Identity.IsAuthenticated;

    Layout = "_LayoutNoNavigation";
}

@section ComponentStyles {
    <link rel="stylesheet" href="~/css/switch.css">
    <environment include="Development">
        <link rel="stylesheet" href="~/css/giveaway.css">
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="~/css/giveaway.min.css" asp-append-version="true">
    </environment>
}

@section Scripts {
    <environment include="Development">
        <script src="~/js/shared/fx.js"></script>
        <script src="~/js/giveaway/giveawaydetails.js"></script>
    </environment>
    <environment exclude="Development">
        <script src="~/js/giveaway/giveawaydetails.min.js" asp-append-version="true"></script>
    </environment>
}

<input asp-for="SecondsToEnd" type="hidden" />

<section class="container-fluid position-relative">
    <div id="featurecontainer" class="row justify-content-center">
        <div class="col-md-12 col-lg-10 px-0 px-md-1">
            <div class="giv-container animate1 pb-5 mb-2">

                <div id="carouselExampleIndicators" class="carousel slide square-bottom" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="~/images/photo1.jpg" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="~/images/photo2.jpg" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="~/images/photo3.jpg" alt="Third slide">
                        </div>
                    </div>
                </div>

                <div class="px-3 px-sm-5 px-md-5">
                    <div class="giv-title">
                        <h1>@Model.Name</h1>
                    </div>

                    <div class="hr-title h6 text-uppercase">
                        <div>
                            @if (Model.Future)
                            {
                                @SharedLocalizer["time to start"]
                            }
                            else
                            {
                                @SharedLocalizer["time left"]
                            }
                        </div>
                    </div>
                    <div class="d-flex text-center align-items-center basic-info text-uppercase">
                        @if (Model.CanCountDown)
                        {
                            <div class="col-6 col-sm-2 col-md-3 h6 order-2 order-sm-1">@SharedLocalizer["${0} value", Model.PrizePriceInDolar]</div>
                            <div class="col-12 col-sm-7 col-md-6 order-1 order-sm-2 hr-b-small">
                                <div class="time-left d-flex justify-content-center" id="countdown">
                                    <div class="time-unity">
                                        <span id="countdown-days">00</span><br><span class="label">@SharedLocalizer["days"]</span>
                                    </div>
                                    <div>:</div>
                                    <div class="time-unity">
                                        <span id="countdown-hours">00</span><br><span class="label">@SharedLocalizer["hours"]</span>
                                    </div>
                                    <div>:</div>
                                    <div class="time-unity">
                                        <span id="countdown-minutes">00</span><br><span class="label">@SharedLocalizer["min"]</span>
                                    </div>
                                    <div>:</div>
                                    <div class="time-unity">
                                        <span id="countdown-seconds">00</span><br><span class="label">@SharedLocalizer["sec"]</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 col-sm-2 col-md-3 h6 order-3">@SharedLocalizer["winners: {0}", Model.WinnerAmount]</div>
                        }
                        else
                        {
                            <div class="hr-b-small">
                                <div class="time-left d-flex justify-content-center">
                                    <span>@SharedLocalizer["time is up"]</span>
                                </div>
                            </div>
                        }
                    </div>

                    <div class="hr-arrow-down rounded-0"></div>
                    <div class="text-center pt-1 pb-0" id="mainSignup">
                        @if (Model.CanCountDown)
                        {
                            <h2 class="mt-2 h3">
                                @SharedLocalizer[Model.StatusMessage]
                            </h2>

                            <form asp-area="tools" asp-controller="giveaway" asp-action="enter" method="post" id="frmEnterGiveaway" class="mt-3 mb-3 justify-content-center">
                                <input asp-for="Enter.GiveawayId" type="hidden" />

                                <div class="form-inline justify-content-center">
                                    <div class="email-input mt-2">
                                        <i class="far fa-envelope text-muted" aria-hidden="true"></i>
                                        <input asp-for="Enter.Email" class="form-control form-control-lg emailanimate" placeholder="Email" required="">
                                    </div>
                                    <button class="btn btn-success btn-lg btn-arrow text-capitalize ml-1 mt-2" id="btnEnterGiveaway">@SharedLocalizer["enter"]</button>

                                    <div class="text-muted mt-3 p-2">
                                        <div class="text-muted p-2">
                                            <label class="switch left">
                                                <input asp-for="Enter.GdprConsent" type="checkbox" class="success" />
                                                <span class="slider round"></span>
                                            </label>
                                            <label class="col-form-label justify-content-start">@SharedLocalizer["I consent to getting sale, promotion, or marketing email"]*</label>
                                        </div>

                                        <div class="text-muted p-2">
                                            <label class="switch left">
                                                <input asp-for="Enter.WantNotifications" type="checkbox" class="success" />
                                                <span class="slider round"></span>
                                            </label>
                                            <label class="col-form-label justify-content-start">@SharedLocalizer["I want to hear about more free giveaways!"]</label>
                                        </div>
                                    </div>
                                </div>

                                <input asp-for="Enter.ReferralCode" type="hidden" />
                            </form>

                        }
                        else
                        {
                            <h2 class="mt-2 h3 text-uppercase">
                                @SharedLocalizer[Model.StatusMessage]
                            </h2>
                        }
                    </div>

                    <div class="hr-top mt-5"></div>

                    <section id="giveaway-description">
                        <div class="pt-4 pb-5">
                            @Html.Raw(Model.Description)
                        </div>
                    </section>
                    @if (Model.ShowTimeZone || Model.ShowSponsor)
                    {
                        <div class="p-4 rounded-0 bg-light offered-by-text ">
                            <div class="text-uppercase d-flex flex-wrap justify-content-center">
                                @if (Model.ShowTimeZone)
                                {
                                    <div class="mx-3"><small title="America/Sao_Paulo"><span class="h6">@SharedLocalizer["giveaway timezone: {0}", Model.TimeZone]</span></small></div>
                                }
                                @if (Model.ShowSponsor)
                                {
                                    <div class="mx-3"><small><span class="h6">@SharedLocalizer["offered by:"]<a href="@Model.SponsorWebsite" target="_blank" rel="noopener noreferrer">@Model.SponsorName</a> </span></small></div>
                                }
                            </div>
                        </div>
                    }

                </div>
            </div>
        </div>

    </div>
</section>

<footer>
    <div class="container pt-2 pb-4 pb-md-5">
        <div class="row">
            <div class="col-12 giv-footer">
                <p>
                    <small>
                        Enter sweepstakes and receive exclusive offers from LuduStack.
                        <br>
                        Unsubscribe anytime. <a asp-area="tools" asp-controller="giveaway" asp-action="terms" asp-route-id="@Model.Id" target="_blank">Read official rules.</a>
                    </small>
                </p>
            </div>
        </div>
    </div>
</footer>